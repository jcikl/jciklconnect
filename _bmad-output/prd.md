---
stepsCompleted: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
inputDocuments:
  - _bmad-output/index.md
  - _bmad-output/analysis/brainstorming-session-2025-02-15.md
documentCounts:
  briefs: 0
  research: 0
  brainstorming: 1
  projectDocs: 1
workflowType: 'prd'
lastStep: 11
project_name: 'JCI LO 管理应用'
user_name: 'User'
date: '2025-02-16'
---

# Product Requirements Document - JCI LO 管理应用

**Author:** User
**Date:** 2025-02-16

---

## Executive Summary

本 PRD 定义在现有 JCI LO 管理应用上的**功能增强与跨模块联动**，不新增独立业务模块。**目标**：在义务服务、人力有限的前提下，提升管理员与会员的操作效率，减少重复填写与人工对账。**手段**：会员主档单一来源、财务对账与工作流平台化、活动与参与一体化。**实施**：分阶段推进——先做会员主档带出与唯一参考编号、付款申请平台化；再铺开流水分类与多户口规则、报名—缴费—签到一体化及参与与筹委经历沉淀，以控制单次投入、可持续落地。资源极度有限时，可仅优先实施 P1 子集（如主档带出 + 付款申请 + 编号规范），再视效果扩展。**试点策略**：先**在一个 LO 或该 LO 内少量活动**跑通并验收成功，再推广到同 LO 更多场景或（未来）其他 LO，以形成可复制范例并便于衡量效果。

范围覆盖会员、财务、活动三大模块的改进与联动及跨模块权限与数据迁移；具体功能与优先级以头脑风暴产出的 **P1/P2 清单及建议实施顺序** 为准。本 PRD 面向理事会决策、技术实施与财政/筹委落地，后续章节将展开需求与成功指标；需求章节将按 P1/P2 清单逐项展开功能范围与验收条件。

### What Makes This Special

- **填补的缺口：** 数据与流程不再分散于表格与人工；「会员主档 + 财务 + 活动」打通为单一来源与可勾稽编码体系；筹委/理事无需在多处重复维护会员与活动关系。
- **对现有用户的改善：** 组织财政与活动财政在对账、分类、付款申请上省时；活动财政可专注本活动相关财务；会员与筹委一处填写、多处带出，状态与参与记录可查；参与与筹委经历沉淀支撑传承与人才识别。
- **核心判断：** 义务服务下，省时的关键是自动化与规则化；会员主档与唯一参考编号是两大基础，先做好可带动对账、状态与历史。
- **用户可感知的价值：** 「选会员即带出、付款申请可查状态、报名—缴费—签到一致、银行流水能与活动/会费/商品勾稽」；**会员端**：少重复填写、状态与参与记录可查、活动触达更相关（P2 精准推送）。

### 前提与风险认知

落地依赖以下前提，否则效果易打折扣：（1）**新流程的采纳**：新流水、新付款申请上线后，由**管理员、组织秘书**决定并宣导「新业务一律走新流程与编号规范」，避免新旧长期并行，并确保新流程有简单说明或首次使用引导；（2）**主档可用性与维护**：会员主档与历史数据具备可用性（必要时与第一阶段并行完成迁移或清洗）；主档维护与更新责任归属为——**管理员**（全部权限）、**组织秘书**（全部权限）、**会员**（个人主档仅可查看/维护本人资料）；（3）**权限与可见性**：组织财政与活动财政的可见性边界在权限与 UI 中明确落实。建议在后续章节**明确写入**少量可测量成功指标（如主档带出场景数、付款申请状态可查），且可包含可验证的验收条件与关键流程的质量门栏；并安排简单文档与交接，以降低人员更替后的退步风险。**数据与依赖**：主档与历史数据迁移范围、清洗规则及验收责任建议在需求或实施计划中明确。银行/支付端若无法配合编号规范，对账可先以半自动（人工辅助匹配）方式运行。**角色**：若管理员与组织秘书为同一人或角色空缺，须指定唯一宣导与主档维护负责人。**实施时**可根据实际义务人手对 P1/P2 的排期与并行度做取舍，本 PRD 提供需求与优先级依据。

## Project Classification

**Technical Type:** Web 应用（React SPA + Firebase）
**Domain:** 会员组织运营（会费、活动、财务对账与付款）
**Complexity:** 中高（多模块联动、工作流与权限、无强监管）
**Project Context:** 棕地 — 在现有会员/财务/活动模块上做增强与联动，沿用现有架构与技术栈。

### 读者指引

- **理事会**：本摘要已包含目标、分阶段实施与前提与风险；决策重点为是否采纳「新流程与编号规范」及由管理员/组织秘书宣导；实施排期可根据人手在后续章节或实施计划中再定。成功指标在 PRD 后续章节定义；验收标准在 epic/故事层级定义。
- **技术实施**：本 PRD 为棕地增强，沿用现有 React + Firebase 架构；权限与「组织财政 vs 活动财政」可见性边界为设计约束，可能涉及权限模型与数据隔离，详见后续需求章节。权限与可见性落地可能涉及 Firestore 安全规则或集合/查询扩展；与现有 Firestore 集合及 Auth 规则的兼容与扩展，在后续架构与需求章节中约定。
- **财政/筹委**：新流程由管理员、组织秘书决定与宣导；主档由管理员、组织秘书（全部权限）与会员（个人主档）维护；省时与可见性改善见「What Makes This Special」。建议活动财政/筹委代表参与关键流程与验收设计，以提高采纳率。

---

## Success Criteria

### User Success

按角色定义「用户觉得成功」的体验与结果，与 Executive Summary 中的「用户可感知的价值」及头脑风暴 P1/P2 预期效果对齐。

**组织财政长**
- 对账与分类省时：银行流水与活动/会费/商品能通过**唯一参考编号**做人工或半自动勾稽，无需逐笔人工匹配。
- 流水分类负担减轻：类别与用途可**规则化或半自动分类、拆分**，减少逐笔判断。
- 多户口与错户：**多户口入账规则与错户内部转移**有清晰流程或清单，减少核对与转移耗时。
- 付款申请：有**统一列表**与**简单去重提示**，审核省时、状态透明。
- 成功时刻：「不用再到处问这笔款对应哪笔申请」「对账时间明显缩短」。

**活动财政**
- 能**只看到本活动相关财务**（权限与分层可见性），信息对称。
- 付款申请**提交、去重、状态可查、审核工作流**可用；申请方可自助查状态。
- 报名—缴费—签到**名单与状态一致**，减少人工对名单。
- 成功时刻：「活动财务一目了然」「不用再对 Excel 和银行流水」。

**会员**
- **一处填写、多处带出**：在活动报名、会费登记、付款申请等场景**选会员即带出**主档，重复填写明显减少。
- **状态与参与记录可查**：自己的会费状态（应缴/已缴/逾期）、活动参与与筹委经历可在系统内查看。
- （P2）活动触达更相关：精准推送依偏好/参与历史，减少无关打扰。
- 成功时刻：「不用再重复填表」「能查到自己的记录」。

**筹委/理事**
- 选会员即带出，**无需在多处重复维护**会员与活动关系。
- **参与与筹委经历**自动写入会员主档，利于传承与人才识别。
- 成功时刻：「带出会员就带出资料」「筹委经历有据可查」。

**非会员（P2）**
- 签到后**留资与跟进**机制可用，组织能更有效获取非会员联络/兴趣，提升找会员与推广效率。

---

### Business Success

本产品为**组织运营效率**服务，非营收导向。成功以「省时、可落地、可持续」衡量。

**短期（约 3 个月）**
- **可复制范例形成**：在一两个场景或活动内跑通「主档带出 + 付款申请 + 编号规范」并验收成功，形成可推广范例。
- **快速见效指标达成**：至少 **2 个场景**改为「选会员即带出」，重复填写明显减少；**申请方可自助查状态**，财政长有统一列表与简单去重提示；**新产生的流水与活动/会费/商品**能通过编号做人工或半自动勾稽（见头脑风暴行动规划成功指标）。
- **新流程采纳**：管理员/组织秘书完成宣导，新业务按规定走新流程与编号规范；新流程有简单说明或首次使用引导。

**中期（约 6–12 个月）**
- **P1 子集或第一阶段全面落地**：在资源允许下，基础层 + 财务层 + 活动层 P1 在组织内推广；对账/分类/报名—签到等环节省时可见。
- **新流程采纳率稳定**：不再长期新旧并行，关键角色（财政、筹委）以新流程为主。
- **主档与数据可用**：主档与历史数据迁移/清洗按计划完成，主档带出在更多场景可用；主档维护责任（管理员、组织秘书、会员个人主档）落实。

**组织层面「做成了」的判据**
- 理事会/管理员能回答：「对账是否比过去省时？」「付款申请是否可查、可去重？」「会员是否少重复填表？」
- 可测量成果见下节「Measurable Outcomes」，并在后续需求与实施计划中明确验收责任与时间点。

---

### Technical Success

与 PRD 前提与风险认知及读者指引中的技术约束一致。

**权限与可见性**
- **组织财政 vs 活动财政**的可见性边界在**权限与 UI** 中明确落实；活动财政仅能访问本活动相关数据（可能涉及 Firestore 安全规则或集合/查询扩展）。
- 主档访问符合**管理员（全部权限）、组织秘书（全部权限）、会员（个人主档）**模型。

**架构与数据**
- 与**现有 Firestore 集合及 Auth 规则**的兼容与扩展在后续架构与需求章节中约定；不破坏现有关键流程。
- 多户口、内部转移、唯一参考编号等若需**新集合或字段**，在架构章节与现有数据模型一并约定。
- **主档与历史数据迁移范围、清洗规则及验收责任**在需求或实施计划中明确。

**质量与上线**
- **关键流程**（如主档带出、付款申请提交与状态查询、编号勾稽）**无阻断性缺陷**，满足可验证的验收条件与质量门栏。
- 新流程有**简单说明或首次使用引导**，支持采纳与交接。

---

### Measurable Outcomes

以下为可写入后续章节的**可测量成功指标**示例，与 Executive Summary 及头脑风暴一致；具体目标值（如场景数、比例、时间）在需求或实施计划中定稿。

| 类别 | 指标示例 | 说明 |
|------|----------|------|
| **主档带出** | 至少 N 个场景（建议首阶段 ≥2）改为「选会员即带出」 | 与头脑风暴行动 1 成功指标一致；可抽样评估重复填写是否减少。 |
| **付款申请** | 申请方可自助查状态；财政长有统一列表与去重提示 | 与头脑风暴行动 2 成功指标一致。 |
| **编号与对账** | 新产生的流水与活动/会费/商品能通过编号做人工或半自动勾稽 | 与头脑风暴行动 3 成功指标一致；可统计「可勾稽笔数/总笔数」比例。 |
| **验收与质量** | 可验证的验收条件（如上述场景级、功能级条件）达成；关键流程通过质量门栏（无阻断性缺陷） | 与 PRD 前提中「可测量成功指标」一致。 |
| **采纳与可持续** | 新流程采纳率（如新流水/新申请走新流程的比例）；主档维护责任落实；文档与交接就绪 | 支持「先跑通再推广」与人员更替后的可持续。 |

---

## Product Scope

### MVP - Minimum Viable Product

**定义**：在一两个场景或活动内**跑通并验收成功**，形成可复制范例，便于衡量效果与再推广。与 Executive Summary 中「先在一两个场景或活动内跑通并验收成功」一致。

**建议 MVP 范围（与建议实施顺序「基础层」+ 部分「财务层」对齐）**
- **会员主档单一来源与带出**：至少 2 个场景（如活动报名、付款申请）实现「选会员即带出」，重复填写明显减少。
- **唯一参考编号与编码体系**：编号规则约定并在银行备注、活动流水、会费/商品录入处统一使用；新产生的流水与活动/会费/商品能通过编号做人工或半自动勾稽。
- **付款申请平台化**：提交、去重、状态可查、审核工作流上线；申请方可自助查状态，财政长有统一列表与简单去重提示。
- **前提与上线条件**：新流程由管理员/组织秘书宣导并有简单说明或首次使用引导；主档在所选场景内可用；权限与可见性在 MVP 范围内落实（如活动财政仅看本活动）。

**MVP 成功判据**：上述可测量结果（主档带出场景数、付款申请状态可查、编号勾稽）在选定场景/活动内达成，且关键流程无阻断性缺陷；理事会/财政可据此决定是否推广。

---

### Growth Features (Post-MVP)

**定义**：在 MVP 验证基础上，将 P1 能力**推广到全组织**并补齐 P1 其余项，实现「分阶段」中的第一阶段全面落地。

**建议范围**
- **基础层扩展**：会费与会员状态自动联动（应缴/已缴/逾期反写状态与权限）；更多场景主档带出。
- **财务层**：流水类别与用途规则化或半自动分类、拆分；多户口入账规则与错户内部转移流程/清单；组织财政 vs 活动财政权限与分层可见性全面落地。
- **活动层**：报名—缴费—签到一体化与统一事件流；参与与筹委经历自动写入会员主档。
- **数据基础**：历史数据迁移与清洗（旧表格→主档）按计划推进，与主档带出扩展并行。
- **采纳与运营**：新流程采纳率稳定；主档维护责任与文档交接持续落实。

---

### Vision (Future)

**定义**：P2 与体验/转化增强，以及长期优化。

**建议范围**
- **P2 功能**：组织 vs 活动财政权限与分层可见性（体验优化）；活动精准推送（依偏好/参与历史）；非会员签到后留资与跟进。
- **持续优化**：根据可测量结果与用户反馈，迭代规则、分类、推送策略；探索更多半自动/自动对账与分类能力。
- **可持续**：文档、交接与角色责任固化；成功指标与验收在 epic/故事层级持续对齐（见读者指引）。

---

## User Journeys

以下为用户故事化旅程，与 Success Criteria 中的角色及 P1/P2 能力对齐；每条旅程结尾标明所揭示的需求能力。

---

### Journey 1：陈姐（组织财政长）— 从「到处问」到「系统里对得上」

陈姐是分会组织财政长，义务兼任。每月最头疼的是：银行流水几十笔，活动财政和会员的付款申请散在邮件和表格里，她要逐笔猜「这笔进账对应哪笔申请、哪个活动」，还要把流水按会费、活动、行政、商品拆分到四个户口，经常对到半夜。

**开场**：月初又一个晚上，她打开银行网银和三个 Excel，正在对一笔 500 元进账——备注只有「活动」，没有活动名、没有申请人、没有参考号。她只好在群组里问：「谁最近交了 500 块活动相关？哪场活动？」没人马上回，对账又卡住。

**推进**：分会决定采用新系统：付款申请一律在平台提交并带**唯一参考编号**，银行转账备注必须填该编号；组织财政在系统里有一份**统一付款申请列表**，带去重提示。陈姐第一次用新流程：收到一笔进账，备注是「ACT-2025-02-001-M」，她在系统里搜编号，立刻看到对应「2025 年 2 月迎新活动 – 会员小琳 – 活动费 500」，勾选「已到账」并选「活动户口」。流水分类规则已设好，大部分流水可由系统建议类别与用途，她只需确认或微调。

**高潮**：过去要两三天才能对完的月结，现在一个下午就做完；再也不用在群里问「这笔是谁的」。她终于可以说：「对账时间明显缩短，不用再到处问这笔款对应哪笔申请。」

**结局**：陈姐用节省下来的时间做财务分析和汇报；多户口错户与内部转移也有清晰清单与流程，心里有数。新流程有简单说明和首次使用引导，换届时交接给下一任财政也能很快上手。

**本旅程揭示的需求**：付款申请平台化（提交、唯一参考编号、去重、状态可查、审核工作流）；银行流水与活动/会费/商品的编号勾稽（人工或半自动）；流水类别与用途规则化或半自动分类；多户口入账规则与错户内部转移流程/清单；组织财政统一视图与权限；新流程说明与首次使用引导。

---

### Journey 2：阿明（活动财政 + 筹委）— 本活动财务一目了然，带出会员就带出资料

阿明是某次大型活动的活动财政，也是筹委之一。以前他看不到组织整体银行余额，只能管自己活动的预算表；报名和缴费名单来自不同表格，他要和报名负责人对名单、和银行流水对缴费，经常对不齐。筹委开会时，要拉参与会员名单或讲者资料，得在不同表里复制粘贴，还常填错。

**开场**：活动前两周，会长问「我们这场活动目前收了多少钱、还有谁没交？」阿明翻报名表、缴费记录和自己的小账本，拼了半小时才给出一个「大概对」的数字，还发现有三个人「已报名未缴费」、两个人「已缴费但报名表没更新」。

**推进**：新系统上线后，阿明以**活动财政**身份登录，**只看到本活动相关**的报名、缴费、付款申请与流水；名单与缴费状态来自同一套数据，**报名—缴费—签到**一体化，不再需要和 Excel 对。作为筹委，他在「活动筹委会」界面**选会员即从主档带出**姓名、届别、联络方式，不用再到处要表格或重复填；系统会记录谁参与了本场活动的筹委工作，**参与与筹委经历**写回会员主档。

**高潮**：会长再问「收了多少钱、谁还没交」时，阿明打开系统一个画面就答得出来；筹委会议前拉名单，选会员即带出，五分钟搞定。他感到「活动财务一目了然，不用再对 Excel 和银行流水」「带出会员就带出资料」。

**结局**：活动结束后，参与与筹委经历自动沉淀，下一届筹委可以参考「谁做过什么」；阿明自己的筹委经历也有据可查，对履历和传承都有帮助。

**本旅程揭示的需求**：活动财政权限与分层可见性（仅本活动数据）；报名—缴费—签到一体化与统一事件流；会员主档在活动/筹委场景的带出；参与与筹委经历写入会员主档；付款申请在本活动维度的提交与状态可查。

---

### Journey 3：小琳（会员）— 少填表、能查自己的状态与记录

小琳是普通会员，每年要报几场活动、缴会费，有时要申请付款（例如活动退款或补贴）。以前每次报名或申请都要再填一次姓名、届别、电话、邮箱，她总觉得「为什么系统不记得我」；会费缴了没有、活动参与记录在哪里，也常常要问人才能知道。

**开场**：她又收到一封活动报名链接，打开又是长长一版表单。她边填边想：「这些资料上次不是都填过了吗？」缴完会费后，她不确定系统里是否已更新为「已缴」，担心影响后续活动权限，只好私讯财政确认。

**推进**：分会启用「选会员即带出」后，小琳在活动报名、会费登记或付款申请等界面，只要**选择自己的会员身份**，姓名、届别、联络方式等从**会员主档自动带出**，只需补填该场景特有字段（如服装尺寸、活动选项）。会费与会员状态联动：她缴费后，系统内**应缴/已缴/逾期**自动更新，她可以在「我的」页面**查看自己的会费状态与活动参与记录**；筹委经历若已写入主档，也能在个人资料中看到。

**高潮**：小琳发现「不用再重复填表」「能查到自己的记录」，再也不用为「系统有没有更新」去问人。若组织启用 P2 精准推送，她收到的活动推荐会更贴合自己的届别与参与历史，减少无关打扰。

**结局**：小琳对分会的「专业感」和「省事」有明显感受，更愿意持续参与；她的参与与筹委经历被系统记录，也为未来的传承与人才识别提供数据基础。

**本旅程揭示的需求**：会员主档单一来源与在报名/会费/申请等场景的带出；会费与会员状态自动联动及会员端可查；会员个人主档的查看与维护（本人）；参与与筹委经历在会员端的可见；（P2）活动精准推送与偏好/历史数据。

---

### Journey 4：李秘书（管理员/组织秘书）— 宣导新流程、主档可用与交接可持续

李秘书是分会组织秘书，与管理员共同负责会务与系统使用规范。新流程上线后，需要有人**决定并宣导**「新业务一律走新流程与编号规范」，并确保主档有人维护、新人有文档可依，避免换届后退回旧做法。

**开场**：理事会通过采用新系统与编号规范，但大家习惯用邮件和表格交付款申请，银行备注也常常不填或乱填。李秘书不知道该怎么让大家「真的用起来」，也担心主档没人维护会越来越乱，明年换届后下一任秘书能否接得住。

**推进**：李秘书与管理员一起**宣导新流程**：在理事群与财政群说明「新付款申请一律在平台提交、银行转账备注必须填参考编号」，并分享**新流程的简单说明与首次使用引导**（文档或短视频）。主档维护责任已明确：**管理员与组织秘书（全部权限）**负责日常维护与数据质量，**会员（个人主档）**可维护本人资料。李秘书定期检查主档完整度，并与活动财政/筹委代表沟通，**让活动财政与筹委参与关键流程与验收设计**，提高采纳率。换届前，她整理**文档与交接清单**（新流程说明、主档维护责任、常见问题），交给下一任秘书与财政。

**高潮**：三个月后，新付款申请与银行流水大部分都带编号，对账明显省时；主档在活动报名与付款申请场景被稳定使用。李秘书感到「宣导与责任清晰了，换人也能接得上」。

**结局**：换届后，新秘书与财政能按文档与交接清单接手，新流程采纳率保持稳定；主档维护责任持续落实，系统真正可持续。

**本旅程揭示的需求**：新流程的采纳与宣导（管理员、组织秘书）；新流程简单说明与首次使用引导；主档维护责任（管理员、组织秘书全部权限，会员个人主档）；活动财政/筹委代表参与关键流程与验收设计；文档与交接以降低人员更替风险；若管理员与组织秘书为同一人或空缺时指定唯一负责人。

---

### Journey Requirements Summary

| 能力领域 | 对应旅程 | 需求要点 |
|----------|----------|----------|
| **付款申请与工作流** | J1 陈姐、J2 阿明、J4 李秘书 | 提交、唯一参考编号、去重、状态可查、审核工作流；申请方可自助查状态，财政有统一列表与去重提示。 |
| **银行流水与对账** | J1 陈姐 | 编号与活动/会费/商品勾稽（人工或半自动）；流水类别与用途规则化或半自动分类；多户口入账规则与错户内部转移。 |
| **权限与可见性** | J1 陈姐、J2 阿明 | 组织财政统一视图；活动财政仅本活动数据；主档权限（管理员、组织秘书、会员个人）。 |
| **会员主档与带出** | J2 阿明、J3 小琳 | 选会员即带出；至少 2 个场景（如活动报名、付款申请）；主档维护责任与数据可用性。 |
| **会费与状态联动** | J3 小琳 | 应缴/已缴/逾期反写；会员端可查会费状态与参与记录。 |
| **报名—缴费—签到** | J2 阿明 | 一体化与统一事件流；名单与状态一致。 |
| **参与与筹委经历** | J2 阿明、J3 小琳 | 自动写入会员主档；会员端可查；支撑传承与人才识别。 |
| **新流程采纳与可持续** | J4 李秘书 | 宣导、说明与首次使用引导；主档维护责任；活动财政/筹委参与验收；文档与交接；角色空缺时指定唯一负责人。 |

---

## Innovation & Novel Patterns

本产品以**效率增强与跨模块联动**为主，非突破式技术发明；以下为在**义务组织 + 会员/财务/活动**场景下具有**差异化与可复制性**的做法，可作为创新与验证重点。

### Detected Innovation Areas

- **义务组织场景下的「自动化与规则化」系统化落地**  
  许多中小型会员组织仍以 Google Sheet、Excel、邮件为主，对账与状态依赖人工。本 PRD 将**唯一参考编号、工作流平台化、主档单一来源**在义务服务（人力有限、换届频繁）约束下系统化落地，形成可复制范例，具有**场景创新**意义。

- **「会员主档 + 唯一参考编号」双基础**  
  以**人**（主档）与**交易/事件**（编号）为两条主线，贯穿活动、会费、付款申请与银行流水，使对账与状态联动可半自动或可追溯。在同类会员管理产品中，将「编号体系」与「主档带出」同时作为设计基础的组合相对少见，可作为**产品差异化**与后续推广话术。

- **可复制范例式推广（先跑通再推广）**  
  不追求一次性全组织上线，而是**先在一两个场景或活动内跑通并验收**，形成可展示的成果与操作规范，再推广。降低义务组织的试错与培训成本，提高采纳率与可持续性，具有**实施方法**上的创新。

- **Web 应用场景下的体验与权限分层**  
  组织财政 vs 活动财政的**分层可见性**、会员端「选会员即带出」与状态可查，在浏览器端提供清晰角色视图与减少重复填写，与 project type（web_app）下的 **New interaction** 信号一致：在既有技术栈上创造更清晰、更省时的交互路径。

### Market Context & Competitive Landscape

- **市场背景**：会员组织（青商、协会、社团等）的会务与财务管理多依赖通用表格与零散工具，缺乏「会员—活动—财务」一体化且可负担的解决方案；定制开发成本高，通用 SaaS 往往不符合义务服务与多角色权限需求。
- **竞争定位**：本产品定位为**棕地增强**——在现有 JCI LO 应用上补齐主档、编号、工作流与权限，而非从零做新系统。差异化在于：**义务服务约束下的分阶段落地**与**双基础（主档 + 编号）**的明确设计，便于与「纯表格」或「通用 CRM」方案区分。
- **可借鉴**：同类组织若采用「先编号与付款申请、再主档带出、再对账与活动一体化」的路径，本 PRD 的 MVP/Growth 划分与成功指标可作为可复制模板。

### Validation Approach

- **业务验证**：以可测量成果验证——主档带出场景数（≥2）、付款申请状态可查、新流水能通过编号勾稽；并在选定场景内收集财政/筹委/会员的「省时」「少错」反馈。
- **采纳验证**：新流程采纳率（新流水/新申请走新流程的比例）、主档维护责任是否落实、换届后文档与交接是否支撑持续使用。
- **创新验证**：若其他分会或同类组织能基于本 PRD 的**双基础 + 可复制范例**思路复刻落地路径，则「义务组织下的系统化自动化」可作为可推广模式。

### Risk Mitigation

- **若「创新」仅停留在文档**：实际未按新流程与编号执行，则对账与主档带出价值无法体现。缓解：前提与风险认知中已写入宣导、说明与首次使用引导；建议活动财政/筹委参与验收。
- **若推广不足**：仅在一两个场景跑通但未推广到更多活动/财政，整体省时有限。缓解：MVP 成功判据明确后，由理事会决定是否推广；Growth 阶段与可测量结果挂钩。
- **若同类产品快速跟进**：差异化缩小。缓解：优先做好**可复制范例**与**文档/交接**，形成实施与运营知识资产，而不只依赖功能清单。

---

## Web App Specific Requirements

本产品在 Step 2 中归类为 **Web 应用（React SPA + Firebase）**。以下为依 project-type（web_app）的 key questions 与 required sections 整理的技术与实现考量，与现有棕地架构一致。

### Project-Type Overview

- **形态**：单页应用（SPA），沿用现有 React 19 + Vite 6 + Tailwind + Firebase Client；后端为 Firebase Cloud Functions（Node 18, TypeScript）。
- **关键问题结论**：SPA；浏览器支持以现代主流为主；SEO 非优先（内部/会员组织工具）；需支持近实时（Firestore 监听用于付款申请状态、名单与缴费状态）；可访问性需满足基本使用（财政/筹委/会员多角色）。
- **与本 PRD 增强的关联**：主档带出、付款申请工作流、报名—缴费—签到一体化、权限与可见性均在前端以 Web 形式呈现；与现有 App 架构及 Firestore/Auth 的兼容与扩展在架构章节约定。

### Technical Architecture Considerations

- **SPA 与路由**：沿用现有 SPA 路由与组件分层；新增或改动的视图（如付款申请列表、活动财政视图、会员主档带出表单）需纳入现有路由与权限控制。
- **实时与数据**：Firestore 实时监听用于「付款申请状态可查」「名单与缴费状态一致」等能力；需注意监听范围与安全规则，避免活动财政跨活动数据访问（见 PRD 权限与可见性）。
- **与 Functions 的边界**：复杂逻辑或需审计的操作（如流水分类规则执行、审批工作流）可保留或新增 Callable；前端以调用服务层为主，不直接写复杂业务逻辑。

### Browser Matrix

- **支持范围**：现代主流浏览器最新两个主版本（Chrome、Firefox、Safari、Edge）；以组织内与会员实际使用环境为准。
- **不承诺**：IE11 及以下；若需支持旧版浏览器，在架构或实施计划中单独约定。
- **移动端**：响应式布局支持在平板与手机上使用（见 Responsive Design）；不要求原生 App。

### Responsive Design

- **目标**：财政与筹委可能在桌面与平板操作；会员可能用手机查状态或报名。关键流程（主档带出、付款申请提交与查询、活动报名与状态查看）需在常见视口下可用。
- **优先级**：桌面与平板优先；手机以「可用」为基线，不要求与桌面完全一致的布局密度。
- **与现有 UI**：沿用现有 Tailwind 与组件体系；新页面遵循既有响应式模式（参见 architecture-app / component-inventory）。

### Performance Targets

- **首屏与关键路径**：关键页面（如付款申请列表、活动报名、会员选择与带出）首屏可交互时间宜在合理范围内（具体目标在架构或 NFR 章节定稿）；避免大列表一次性加载，采用分页或虚拟滚动。
- **Firestore**：查询使用索引、限制返回条数；避免在热路径上做全集合扫描。
- **与 PRD 成功指标**：性能不阻断「主档带出」「付款申请状态可查」「编号勾稽」等可测量成果的验收。

### SEO Strategy

- **定位**：内部/会员组织工具，非公开营销站点。SEO 非核心需求。
- **如需对外落地页**：若未来有对外宣传或报名入口，可单独为少数页面做基础 meta 与可抓取性；本 PRD 范围内不强制。

### Accessibility Level

- **目标**：满足**基本可访问性**，使财政、筹委、会员（含义务服务者）在常见设备与设置下能完成关键操作。
- **建议**：表单与按钮具备可聚焦与键盘操作；关键状态与错误有文字提示；色彩不作为唯一信息载体。详细级别（如 WCAG 2.1 AA）在架构或 NFR 章节约定。
- **与多角色**：组织财政、活动财政、会员等视图需在权限控制下正确呈现，避免误操作与信息混淆。

### Implementation Considerations

- **棕地兼容**：新增功能与现有 Firestore 集合、Auth 规则、组件与路由兼容；新集合或规则扩展在架构章节与现有数据模型一并约定。
- **权限与可见性**：组织财政 vs 活动财政的可见性边界需在 **Firestore 安全规则** 与 **前端路由/组件权限** 中双重落实；参考 PRD 读者指引·技术实施。
- **新流程说明与引导**：首次使用引导或说明可在 Web 内以模态、引导条或帮助入口实现，与「新流程有简单说明或首次使用引导」前提一致。

---

## Project Scoping & Phased Development

基于当前 PRD 全文（愿景、成功标准、用户旅程、创新与 Web 应用要求）所做的**范围与阶段界定**，与前述 **Product Scope（MVP / Growth / Vision）** 一致，此处以策略与风险视角收束。

### MVP Strategy & Philosophy

- **MVP 取向**：**Problem-Solving MVP + 可复制范例**——先解决「对账难、付款申请散、重复填写多」三大痛点中的可验证子集，在一两个场景或活动内跑通，形成可展示成果与操作规范，再决定推广；兼顾**平台基础**（主档 + 编号）为后续扩展打底。
- **试点与推广策略（先在一个 LO 或少量活动跑通）**：  
  - **范围**：MVP 阶段**先在一个 LO（Local Organisation）或该 LO 内少量活动**跑通，不追求一次性全组织或多 LO 上线。  
  - **跑通含义**：在选定 LO/活动内，完成「主档带出 + 付款申请 + 唯一参考编号与对账」闭环并验收通过；关键角色（组织财政、活动财政、筹委、会员）在真实流程中走通至少一次；形成可展示成果与操作规范。  
  - **推广顺序**：跑通验收成功后，先在同一 LO 内推广到更多活动或场景；未来多 LO 启用时，再以该范例复制到其他 LO（见 Scalability NFR）。  
  - **价值**：降低试错与培训成本、便于衡量效果、由理事会基于可测量结果决定是否扩大范围。
- **资源假设**：义务服务、人力有限；不假设专职开发团队。实施时可根据实际人手采用 **P1 子集**（如仅主档带出 + 付款申请 + 编号规范），或先跑通再推广，避免一次性全组织上线。
- **成功定义**：用户（财政/筹委/会员）在**选定 LO/活动**内能完成「选会员即带出」「付款申请可查状态」「新流水能通过编号勾稽」；理事会能据此判断「是否推广」。

### MVP Feature Set (Phase 1)

- **核心用户旅程**：Journey 1 陈姐（组织财政—对账与付款申请）、Journey 2 阿明（活动财政—本活动财务与主档带出）、Journey 3 小琳（会员—少填表与状态可查）、Journey 4 李秘书（宣导与主档维护）在 MVP 范围内均需有**最小可行路径**（见 Product Scope · MVP）。
- **Must-Have 能力**：会员主档在至少 2 个场景带出；唯一参考编号规则约定且在新流水/申请中统一使用；付款申请平台化（提交、去重、状态可查、审核）；新流程宣导与简单说明/首次使用引导；活动财政在 MVP 范围内仅看本活动（权限与可见性）。
- **可延后**：流水半自动分类、多户口内部转移清单、报名—缴费—签到全流程一体化、参与与筹委经历沉淀、P2 精准推送与非会员留资等放入 Growth / Vision。
- **MVP 明确不包含**：多币种/汇率、复杂多级审批链、对外公开报名页的 SEO；上述留待 Growth/Vision 按需考虑。
- **MVP 交付完成条件（DoD）**：可测量成果在选定场景内达成；新流程说明或首次使用引导已上线；至少完成一次向理事会/财政的演示或验收，并据此决定是否进入 Growth。

### Post-MVP Features

- **Phase 2（Growth）**：将 MVP 能力推广到全组织；补齐会费↔状态联动、流水分类与多户口规则、报名—缴费—签到一体化、参与与筹委经历写入主档、历史数据迁移与清洗；组织财政 vs 活动财政权限全面落地；新流程采纳率稳定（见 Product Scope · Growth）。
- **Phase 3（Expansion / Vision）**：P2 功能（权限体验优化、活动精准推送、非会员留资）；持续优化规则与推送；文档与交接固化，成功指标与验收在 epic/故事层级持续对齐（见 Product Scope · Vision）。

### Risk Mitigation Strategy

- **技术风险**：权限与 Firestore 规则/集合扩展、主档与历史数据迁移若未在架构章节约定，易导致返工。缓解：**MVP 选定的一两个场景**若涉及新集合或权限维度，应在开发前确认 Firestore 数据模型与安全规则的扩展点；在架构与需求章节明确兼容与扩展方式；关键流程设质量门栏与验收条件。
- **采纳与市场风险**：新流程未被采用或仅部分使用，则省时价值无法体现。缓解：管理员/组织秘书宣导、新流程说明与首次使用引导、活动财政/筹委参与验收设计；先一两个场景跑通并展示成果再推广。
- **资源风险**：人手少于预期时无法完成原定 MVP。缓解：PRD 已明确「资源极度有限时可仅优先实施 P1 子集」及「实施时可根据义务人手对 P1/P2 排期与并行度做取舍」；MVP 成功判据达成后由理事会决定是否进入 Growth。

---

## Functional Requirements

以下功能需求（FR）由 PRD 全文（愿景、成功标准、用户旅程、创新、Web 应用要求、范围界定）综合得出，构成**能力契约**：UX 仅针对此处能力设计，架构仅支撑此处能力，Epic/Story 仅实现此处能力。未列出的能力除非后续显式补充，否则不在交付范围内。

**约定**：每条 FR 为可验收的「谁能做什么」能力描述，不规定实现方式（HOW）；阶段标注（MVP/Growth/Vision）与 Product Scope 一致。

---

### 会员主档与数据（Member Profile & Data）

- **FR1**：管理员、组织秘书 可 在系统内维护会员主档（查看、新增、修改、在权限范围内管理全部会员数据）。（MVP）
- **FR2**：会员 可 查看与维护本人主档中的允许编辑字段（个人主档）。（MVP）
- **FR3**：在至少两个业务场景（如活动报名、付款申请）中，具备相应权限的用户 可 通过选择会员身份从主档带出姓名、届别、联络方式等约定字段，减少重复填写。（MVP）
- **FR4**：系统 可 在选定的活动、会费、付款申请等场景中，根据「选会员」结果自动带出主档中约定字段。（MVP）
- **FR5**：管理员、组织秘书 可 在组织层面查看与导出主档数据，用于主档质量检查或迁移/清洗验收。（Growth，与数据迁移配合）
- **FR6**：系统 可 支持将历史数据（如旧表格）按约定规则迁移或清洗后写入主档，迁移范围与验收责任在实施计划中约定。（Growth）

---

### 付款申请与工作流（Payment Request & Workflow）

- **FR7**：申请方（会员或活动财政等） 可 在平台提交付款申请，并关联唯一参考编号及必填信息（如活动、金额、用途等）。（MVP）
- **FR8**：组织财政长、活动财政（在权限范围内） 可 查看付款申请统一列表，并看到简单去重或重复提示（如同一活动+同一金额+同一申请人+时间窗等规则）。（MVP）
- **FR9**：申请方 可 自助查询本人或本活动相关付款申请的状态（如待审/已批/已拒）。（MVP）
- **FR10**：具备审核权限的角色 可 对付款申请执行审核操作（批准、拒绝等），并更新申请状态。（MVP）
- **FR11**：系统 可 在付款申请全流程中承载并展示唯一参考编号，供对账与勾稽使用。（MVP）
- **FR12**：活动财政 可 仅看到与本活动相关的付款申请与状态（受权限与可见性约束）。（MVP）

---

### 编号与对账（Reference Number & Reconciliation）

- **FR13**：组织财政长、活动财政 可 在录入或查看活动流水、会费、商品销售等时使用约定格式的唯一参考编号，并与银行转账备注约定一致。（MVP）
- **FR14**：组织财政长 可 根据唯一参考编号，将银行流水与活动/会费/商品等记录做人工或半自动勾稽（匹配、标记已到账等）。（MVP）
- **FR15**：系统 可 支持按唯一参考编号或约定规则，对流水与业务记录进行查询与关联展示，以支持对账。（MVP）
- **FR16**：组织财政长、活动财政 可 对银行流水或业务流水使用规则化或半自动的类别与用途分类、拆分（如会费/活动/行政/商品）。（Growth）
- **FR17**：组织财政长 可 查看或使用多户口入账规则与错户内部转移流程/清单，减少错户核对与转移耗时。（Growth）

---

### 权限与可见性（Permissions & Visibility）

- **FR18**：组织财政长 可 在权限范围内查看组织级财务相关数据（如付款申请列表、流水、对账视图等）。（MVP）
- **FR19**：活动财政 可 仅在权限范围内查看与本活动相关的财务与参与数据，无法查看其他活动或组织全局敏感数据。（MVP）
- **FR20**：系统 可 按角色（如组织财政、活动财政、会员、管理员、组织秘书）限制数据访问范围，使「组织财政 vs 活动财政」的可见性边界在功能上落实。（MVP）
- **FR21**：会员 可 仅查看与维护本人主档及本人相关的会费状态、参与记录、付款申请状态等。（MVP）
- **FR22**：管理员、组织秘书 可 在系统中承担宣导与主档维护责任；若角色空缺，组织 可 指定唯一宣导与主档维护负责人。（MVP）

---

### 活动与参与（Events & Participation）

- **FR23**：活动财政、筹委 可 在活动相关界面通过选择会员从主档带出资料，用于报名、筹委名单、讲者名单等。（MVP）
- **FR24**：系统 可 在报名、缴费、签到等环节使用统一事件流或关联数据，使名单与缴费/签到状态一致、可查。（Growth）
- **FR25**：会员 可 在系统内查看本人的活动参与记录及筹委经历（若已写入主档）。（Growth）
- **FR26**：系统 可 将活动参与与筹委经历自动写入会员主档，支撑传承与人才识别。（Growth）
- **FR27**：非会员 可 在签到或约定流程中留资（如联络方式、兴趣），组织可据此跟进与推广。（Vision，P2）
- **FR28**：系统 可 根据会员偏好或参与历史对活动进行精准推送或推荐（减少无关打扰）。（Vision，P2）

---

### 会费与状态联动（Dues & Status）

- **FR29**：系统 可 根据约定规则计算或展示会员的会费状态（如应缴/已缴/逾期），并反写或展示在会员状态与权限相关逻辑中。（Growth）
- **FR30**：会员 可 在系统内查看本人的会费状态（应缴/已缴/逾期）及参与记录。（Growth）
- **FR31**：组织财政长、具备权限的角色 可 查看或导出会费与会员状态相关数据，用于对账或运营。（Growth）

---

### 新流程采纳与引导（Adoption & Onboarding）

- **FR32**：管理员、组织秘书 可 在系统内或通过配套材料宣导新流程与编号规范，使新业务按规定走新流程。（MVP）
- **FR33**：用户 可 在首次使用付款申请、主档带出或编号相关流程时，获得简单说明或首次使用引导（如帮助入口、引导条、文档链接等）。（MVP）
- **FR34**：组织 可 使用文档与交接清单支持换届或角色更替，降低新流程退步风险；文档与交接责任在实施计划中约定。（Growth）
- **FR35**：活动财政、筹委代表 可 参与关键流程与验收设计（如需求评审、验收测试），以提高采纳率。（MVP，流程层面）

---

### 数据与迁移（Data & Migration）

- **FR36**：组织 可 在实施计划中约定主档与历史数据的迁移范围、清洗规则及验收责任，并在系统中执行或支持迁移与验收流程。（Growth）
- **FR37**：系统 可 在银行/支付端无法完全配合编号规范时，支持以人工辅助匹配（半自动）方式完成对账，不阻断基本对账能力。（MVP）

---

## Non-Functional Requirements

NFR 描述系统**做得多好**（质量属性），而非做哪些功能。以下仅记录与 JCI LO 管理应用直接相关的质量要求，便于验收与架构决策。

---

### Performance

- **NFR-P1**：关键用户操作（如打开付款申请列表、按参考编号查询、主档带出）在常规网络与设备下，**首屏或结果在 3 秒内可感知完成**；列表支持分页或懒加载，单页加载时间同限。（验收时可在标准 4G 模拟或约定网络条件下测量首屏/首结果可感知完成时间。）
- **NFR-P2**：对账与流水查询（按编号/时间范围）在典型数据量下（单组织、当年）**响应时间 ≤ 5 秒**，允许后台导出异步处理。（验收时在单组织、当年典型数据量下测量查询响应时间。）
- **NFR-P3**：同一组织内**至少 5 个并发用户**（如组织财政 + 若干活动财政）同时操作不出现明显阻塞或错误率上升。

---

### Security

- **NFR-S1**：**传输**：所有与服务器/ Firestore 的通信使用 TLS；**存储**：敏感字段（如个人联络方式、财务相关备注）按平台能力加密或受访问控制保护。
- **NFR-S2**：**访问控制**与功能需求中的权限一致：组织财政仅组织级；活动财政仅本活动；会员仅本人数据；管理员/组织秘书按角色可维护主档与流程宣导。多 LO 启用后，访问控制须基于当前用户所属 LO/Area/Country 进行租户上下文校验，禁止跨 LO 访问。
- **NFR-S3**：**认证**依赖现有 Firebase Auth（或等价方案）；敏感操作（如审批、主档批量修改）需已登录且角色匹配，无未授权越权访问。
- **NFR-S4**：**审计**：对付款申请状态变更、主档关键修改等可追溯操作者与时间（日志或审计字段），不记录支付凭证或密码等敏感内容。审计日志或审计字段的保留期限与存储方式在实施计划或运维规范中约定。

---

### Accessibility

- **NFR-A1**：**本次上线的核心流程**（登录、主档查看/编辑、付款申请提交与状态查看、对账列表与筛选）相关页面与组件满足 **WCAG 2.1 Level AA**（键盘操作、焦点顺序、对比度与文字可读性、表单标签与错误提示）；新功能随迭代纳入可访问性验收。
- **NFR-A2**：关键操作具备**明确成功/失败反馈**（如提交成功、审批结果、保存成功），避免仅依赖颜色传达状态。

---

### Integration

- **NFR-I1**：与 **Firestore / Firebase Auth** 的数据模型与安全规则扩展在开发前确认，确保主档、付款申请、流水等集合的读写规则与角色边界一致。多 LO 扩展时，Firestore 安全规则须支持按 `loId`（及可选 `areaId`/`countryId`）做路径级或查询级限制，避免跨 LO 越权。
- **NFR-I2**：**银行流水**对接以人工上传或粘贴为主；若未来对接开放接口，需约定格式与唯一参考编号的映射方式；当前阶段不强制实时银行 API。
- **NFR-I3**：**导出与迁移**：主档、流水、付款申请等支持按约定格式导出（如 CSV/JSON），便于对账、迁移或验收；导出可由具备权限的角色触发并受审计约束。

---

### Reliability & Operations

- **NFR-R1**：在所用托管与依赖（如 Firebase）正常可用的前提下，**计划内维护窗口外，核心功能可用率目标 ≥ 99%**（按月度或季度统计）；单次不可用超过 15 分钟需有简单事后说明或记录。
- **NFR-R2**：**数据持久性**：用户提交的付款申请与主档更新在成功确认后不因前端刷新而丢失；依赖后端持久化与事务/幂等设计保证。成功确认指前端在收到后端/Firestore 写入成功响应后再更新 UI 并显示成功状态。
- **NFR-R3**：**可观测性**：付款申请提交/审批、主档关键更新、对账相关操作须具备可追踪的请求或操作标识（如 correlation id、审计记录 ID），便于排障与审计追溯。

---

### Scalability

- **NFR-SC1**：架构与数据模型**须预留未来支持多 LO** 的扩展能力，层级为：**国家（Country）→ 分区（Area）→ LO（Local Organisation）**。以马来西亚为例：国家为 Malaysia；分区包括 Area Central、Area South、Area North、Area Sabah、Area Sarawak；LO 归属分区，例如 JCI Kuala Lumpur（Area Central）、JCI Entrepreneur（Area Central）、JCI Johor Bahru（Area South）、JCI United Penang（Area North）、JCI Kota Kinabalu（Area Sabah）、JCI Sibu（Area Sarawak）。MVP 阶段可以仅实施单 LO 或单分区，但数据模型、权限边界与租户隔离设计须避免在扩展多 LO/多分区时出现大规模重构。
- **NFR-SC2**：当前设计以单 LO 或单分区为主要使用方；若未来启用多 LO/多分区，需在架构上落实**租户/组织隔离**（按 Country / Area / LO 划分数据与权限），并预留索引与查询扩展，不在 MVP 内承诺具体 LO 数量或 QPS 指标。
- **NFR-SC3**：多 LO 扩展时，数据模型与 API 须支持按 `countryId` / `areaId` / `loId`（或等价标识）进行隔离查询与安全规则校验；Firestore 安全规则须支持按 LO（及可选 Area/Country）做路径或查询级限制。
